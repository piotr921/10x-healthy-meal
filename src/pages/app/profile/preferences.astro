---
import AppLayout from "@/layouts/AppLayout.astro";
import DietaryPreferencesView from "@/components/profile/DietaryPreferencesView.tsx";

// Check authentication
const supabase = Astro.locals.supabase;
const { data: { user } } = await supabase.auth.getUser();

if (!user) {
  return Astro.redirect('/');
}
---

<AppLayout title="Dietary Preferences">
  <div class="container mx-auto py-8 px-4 max-w-3xl">
    <div class="mb-6">
      <h1 class="text-3xl font-bold">Dietary Preferences</h1>
      <p class="text-muted-foreground mt-2">
        Manage your dietary preferences to get personalized recipe modifications.
      </p>
    </div>
    <DietaryPreferencesView client:load />
  </div>
</AppLayout>

